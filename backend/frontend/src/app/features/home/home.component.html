<div class="home-container">
  <section class="hero-section">
    <div class="hero-content">
      <h1>Benvenuto al Meme Museum</h1>
      <p>Esplora, condividi e vota i migliori meme della rete</p>
    </div>
  </section>

  <div class="content-layout">
    <aside class="filters-sidebar">
      <app-search-filter (filterChange)="onFilterChange($event)"></app-search-filter>
    </aside>

    <main class="memes-grid">
      <h2 class="section-title">
        {{ searchQuery ? `Risultati per: "${searchQuery}"` : 'Scopri i Meme' }}
      </h2>

      <div *ngIf="isLoading" class="loading-indicator">
        <p>Caricamento meme in corso...</p>
      </div>

      <div *ngIf="!isLoading && (!memeResponse || memeResponse.memes.length === 0)" class="no-memes-message">
        <ng-container *ngIf="searchQuery || activeFilters.tags.length > 0; else noMemesDefault">
          <h3>Nessun risultato trovato</h3>
          <p>Non abbiamo trovato meme corrispondenti alla tua ricerca.</p>
          <p>Suggerimenti:</p>
          <ul>
            <li>Verifica che tutti i tag siano scritti correttamente</li>
            <li>Prova con tag diversi</li>
            <li>Prova con termini pi√π generici</li>
          </ul>
        </ng-container>
        <ng-template #noMemesDefault>
          <p>Nessun meme disponibile al momento.</p>
        </ng-template>
      </div>

      <div class="memes-grid-container">
        <div *ngFor="let meme of memeResponse?.memes" class="meme-grid-item">
          <app-meme-card [meme]="meme"></app-meme-card>
        </div>
      </div>

      <app-paginator 
        *ngIf="memeResponse && memeResponse.totalPages > 1"
        [currentPage]="currentPage" 
        [totalPages]="memeResponse.totalPages || 1"
        (pageChange)="onPageChange($event)"
      ></app-paginator>

    </main>
  </div>
</div>